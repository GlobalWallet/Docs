<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>API Docs | Kibramoa</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="API Docs" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jekyll template for API documentation." />
<meta property="og:description" content="Jekyll template for API documentation." />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="Kibramoa" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="API Docs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Jekyll template for API documentation.","headline":"API Docs","name":"Kibramoa","url":"http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->


		<link rel="stylesheet" href="/css/style.css">
		<link rel="icon" type="image/png" href="/favicon.png">

		

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="/js/main.js"></script>
	</head>
	<body>
		<header>
			<h1>
				<button type="button" class="open-nav" id="open-nav"></button>
				<a href="/"><img src="/images/logo.svg" height="40" alt="Kibramoa logo"></a>
			</h1>

			<form action="/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Search">
				<input type="submit" value="Search" style="display: none;">
			</form>

			<div id="sidebar" class="sidebar">
	
	
		
	
		
			<section>
				<h6>Overview</h6>
				<ul>
					
					
						<li>
							<a href="#documentationgetting_started">
								Getting Started
								
							</a>
						</li>
					
						<li>
							<a href="#documentationCashier Integration">
								Cashier Integration
								
							</a>
						</li>
					
						<li>
							<a href="#documentationServer to Server Integration">
								Server to Server Integration
								
							</a>
						</li>
					
						<li>
							<a href="#documentationGateway Interface">
								Gateway URLs
								
							</a>
						</li>
					
						<li>
							<a href="#documentationCashier Authentication copy">
								Cashier Request
								
							</a>
						</li>
					
						<li>
							<a href="#documentationCashier Authentication">
								Cashier Authentication
								
							</a>
						</li>
					
				</ul>
			</section>
		
	
		
			<section>
				<h6>API Endpoints</h6>
				<ul>
					
					
						<li>
							<a href="#apicashiersession">
								/payment-session
								<span class="endpoint post"></span>
							</a>
						</li>
					
				</ul>
			</section>
		
	
</div>


			<p class="copyright">
				<a href="https://kibramoa.com">
					Kibramoa
				</a>
			</p>
		</header>
		<div class="main">
			

	
	

	
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationgetting_started">
						Getting Started
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/getting_started.md">Edit</a>
				</h3>
				

				

				<p>This document covers all the technical aspects for accomplish an integration with Kibramoa API, a platform that aggregates most popular payments methods from different countries around the world.</p>

<p>Kibramoa API provides a modern user interface called CashierUI, this application provides a visual way for the merchantâ€™s customers to initiate and complete payments using their preferred payment options from different countries.</p>

<p class="info">Using the API</p>

<p>You will need a test merchant account to generate the keys for .</p>

<p class="info">Integration Options</p>

<p>The Kibramoa API offers the following types of integrations for payment processing:</p>
<ul>
  <li>Payment Form Integration called Cashier-UI</li>
  <li>Server to Server Integration (Merchantâ€™s own payment form).</li>
</ul>


				
			</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationCashier Integration">
						Cashier Integration
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/Cashier Integration.md">Edit</a>
				</h3>
				

				

				<p>The Cashier will allow the merchants to manage payments fast and safe :</p>
<ul>
  <li>A link to CashierUI will be generated for the merchant platform after session requesting.</li>
  <li>To load the cashier the merchant would have to be boarded and generate an API key from merchant portal. This API key once generated needs to be used when calling the Kibramoa Gateway cashier.</li>
  <li>The HTTP header needs to have the Merchant API key added before the cashier can be called. (described in section 4.1)</li>
</ul>


				
			</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationServer to Server Integration">
						Server to Server Integration
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/Server to Server Integration.md">Edit</a>
				</h3>
				

				

				<p>Server-side integration coming soon.</p>


				
			</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationGateway Interface">
						Gateway URLs
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/Gateway Interface.md">Edit</a>
				</h3>
				

				

				
<p class="info">Sandbox Environment URLs</p>
<h4 id="sandbox-api">Sandbox API</h4>
<p>https://api.sandbox.kibramoa.net</p>

<h4 id="sandbox-cashier-hosted-payments-page">Sandbox Cashier (Hosted Payments Page)</h4>
<p>https://cashier.sandbox.kibramoa.net</p>

<p class="info">Production  Environment URLs</p>

<h4 id="production-api">Production API</h4>
<p>https://api.kibramoa.net</p>

<h4 id="production-cashier-hosted-payments-page">Production Cashier (Hosted Payments Page)</h4>
<p>https://cashier.kibramoa.net</p>


				
			</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationCashier Authentication copy">
						Cashier Request
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/Cashier Authentication copy.md">Edit</a>
				</h3>
				

				

				<p>When the API is correctly built and accepted the Kibramoa system will send back a URL with the Kibramoa cashier and payment methods requested for</p>

<p><img src="/images/Cashier_Request_Api_Steps.png" alt="API Calls" class="img-responsive" /></p>


				
						
								


<div title="" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

								
						
			</section>
			
		</section>
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="documentationCashier Authentication">
						Cashier Authentication
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_documentation/Cashier Authentication.md">Edit</a>
				</h3>
				

				

				
<p>Within the header of the calls to Kibramoa that will contain the cashier request the Merchant API key needs to be declared.</p>


				
						
								


<div title="Session ID Format" class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>X-API-KEY: 48wL6TGO3K0be*3ff6-b255-c19a2d2c164b
Content-Type: application/json
</code></pre></div></div>

								
						
			</section>
			
		</section>
	

	
	
		<section class="doc-content">
			<section class="left-docs">
				<h3>
					<a id="apicashiersession">
						/payment-session
						
							<span class="endpoint post"></span>
						
					</a>
					<a class="editor-link" href="cloudcannon:collections/_api/cashiersession.md">Edit</a>
				</h3>
				
					<p class="description">To create a payments page (cashier) session</p>
				

				

				<p>ðŸ“Œ To add a new riddle to the database</p>

<table>
  <thead>
    <tr>
      <th>HTTP Method</th>
      <th>Endpoint</th>
      <th>Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td>/riddles</td>
      <td>Adds a new riddle to the database</td>
    </tr>
  </tbody>
</table>

<p>Use the JSON request body to add a new Riddle object to the database.</p>

<p>The request body should use the following schema:</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>riddle</td>
      <td>string</td>
      <td>Required</td>
      <td>The riddleâ€™s question</td>
    </tr>
    <tr>
      <td>answer</td>
      <td>string</td>
      <td>Required</td>
      <td>The riddleâ€™s answer</td>
    </tr>
    <tr>
      <td>category</td>
      <td>string</td>
      <td>Required</td>
      <td>A one-word classification of the riddle. It should not contain spaces. The original database includes the categories: easy, hard, funny, kids, math, and word. This is not an enum and more can be added.</td>
    </tr>
    <tr>
      <td>source</td>
      <td>string</td>
      <td>Optional</td>
      <td>The source of the riddle</td>
    </tr>
  </tbody>
</table>

<p class="error"><strong>Note</strong>: The <code class="language-plaintext highlighter-rouge">Content-Type</code> header should be set to <code class="language-plaintext highlighter-rouge">application/json</code>.</p>

<p class="success"><strong>Example request</strong></p>

<p>A curl request to add a new riddle:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  curl -X POST \
  'https://api.dev.kibramoa.net/payment-session' \
  -H 'accept: application/json' \
  -H 'X-API-KEY: 5TDI6o6keGvH9Di+umZj6wGkMZBE7Ukrb8+8A4WErq0=.b8987f40-e1cf-488c-843a-7a634f245a81' \
  -H 'Content-Type: application/json' \
  -d '{
  "country": "BR",
  "currency": "BRL",
  "amount": 13000,
  "redirectUrl": "https://merchant.io/where-to-go",
  "language": "ES",
  "customer": {
    "name": "John Doe",
    "email": "john@email.test",
    "phone": "+34666999666",
    "userDevice": "MOBILE",
    "userAgent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36",
    "ip": "84.232.140.77",
    "address": {
      "street": "32 Windsor Gardens",
      "streetNumber": "24",
      "country": "GB",
      "zipCode": "W9 3RG",
      "city": "London",
      "state": "Great London."
    },
    "identify": {
      "number": "76486883X",
      "type": "DNI"
    }
  },
  "merchantReference": "mustbe18cars",
  "paymentReference": "Invoice ABC123",
  "userId": "Merch_User_123",
  "extra1": "extraData001",
  "extra2": "extraData002",
  "extra3": "extraData003",
  "storedToken": "index-stored",
  "tax": "21%",
  "shippingAddress": {
    "street": "32 Windsor Gardens",
    "streetNumber": "24",
    "country": "GB",
    "zipCode": "W9 3RG",
    "city": "London",
    "state": "Great London."
  },
  "orderDetails": [
    {
      "productName": "shirt-1233474",
      "quantity": 1,
      "dimensions": "85x51",
      "description": "Blue sports t-shirt "
    }
  ]
}'

</code></pre></div></div>

<p>A successful response will return an HTTP status code of <code class="language-plaintext highlighter-rouge">201</code> and have the following schema:</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>string</td>
      <td>A brief success message</td>
    </tr>
    <tr>
      <td>content</td>
      <td>object</td>
      <td>Top-level containing Riddle object</td>
    </tr>
  </tbody>
</table>

<p>Where the Riddle object has this schema:</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>string</td>
      <td>The database id for the Riddle object</td>
    </tr>
    <tr>
      <td>riddle</td>
      <td>string</td>
      <td>The riddleâ€™s question</td>
    </tr>
    <tr>
      <td>answer</td>
      <td>string</td>
      <td>The riddleâ€™s answer</td>
    </tr>
    <tr>
      <td>category</td>
      <td>string</td>
      <td>A classification of the riddle. The original database includes the categories: easy, hard, funny, kids, math, and word. This is not an enum and more can be added.</td>
    </tr>
    <tr>
      <td>source</td>
      <td>string</td>
      <td>The source of the riddle</td>
    </tr>
    <tr>
      <td>__v</td>
      <td>number</td>
      <td>An internal versioning number used by Mongoose (the Object Data Model library used to connect to the MongoDB database).</td>
    </tr>
  </tbody>
</table>

<p class="success"><strong>Example response</strong></p>

<p><strong>Example response</strong></p>

<p>A successful response to a <code class="language-plaintext highlighter-rouge">POST</code> request is an object like below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  HTTP/1.1 201 Created
  Content-Type: application/json; charset=utf-8

  {
  "message": "Successfully added new riddle",
  "content": {
      "_id": "60bd0708d7dcc31bd9376abe",
      "riddle": "I'm tall when I'm young, and I'm short when I'm old. What am I?",
      "answer": "A candle",
      "category": "easy",
      "source": "https://parade.com/947956/parade/riddles/",
      "__v": 0
  }
  }
</code></pre></div></div>

<p class="error"><strong>Possible error responses</strong></p>

<p>A <code class="language-plaintext highlighter-rouge">POST</code> request to the /riddles endpoint may return the following errors.</p>

<table>
  <thead>
    <tr>
      <th>Error code</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>400</td>
      <td><code class="language-plaintext highlighter-rouge">Bad Request</code>: This error will be returned if a required field in the request body is missing or if the <code class="language-plaintext highlighter-rouge">category</code> field contains a space.</td>
    </tr>
    <tr>
      <td>500</td>
      <td><code class="language-plaintext highlighter-rouge">Internal Server Error</code>: An unexpected error occurred on the server.</td>
    </tr>
  </tbody>
</table>


				
			</section>
			
					<section class="right-code">
						
								


<div title="Response" class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">   </span><span class="p">{</span><span class="w">
   
   </span><span class="nl">"cashierUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cashier.dev.kibramoa.net?sessionId=54ed4d33-9c24-4ef0-a7f8-242920a657u5"</span><span class="w">

   </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

						
								


<div title="Error 401" class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">    </span><span class="p">{</span><span class="w">

    </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unauthorized"</span><span class="w">
    
    </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

						
				</section>
			
		</section>
	


		</div>
		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>
